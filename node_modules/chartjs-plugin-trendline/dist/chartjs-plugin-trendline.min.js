var pluginTrendlineLinear={id:"chartjs-plugin-trendline",afterDraw:function(a){var t,s;for(var i in a.scales)if("x"==i[0]?s=a.scales[i]:t=a.scales[i],s&&t)break;var r=a.ctx;a.data.datasets.forEach(function(t,i){if(t.trendlineLinear&&a.isDatasetVisible(i)&&0!=t.data.length){var e=a.getDatasetMeta(i);addFitter(e,r,t,s,a.scales[e.yAxisID])}}),r.setLineDash([])}};function addFitter(t,i,e,a,s){var r=e.trendlineLinear.style||e.borderColor,n=e.trendlineLinear.width||e.borderWidth,o=e.trendlineLinear.lineStyle||"solid";r=void 0!==r?r:"rgba(169,169,169, .6)",n=void 0!==n?n:3;var l=new LineFitter,d=e.data.length-1,h=t.data[0].x,u=t.data[d].x,m=!1;e.data&&"object"==typeof e.data[0]&&(m=!0),e.data.forEach(function(t,i){if(null!=t)if("time"===a.options.type){var e=null!=t.x?t.x:t.t;l.add(new Date(e).getTime(),t.y)}else m?l.add(t.x,t.y):l.add(i,t)});var x=a.getPixelForValue(l.minx),c=a.getPixelForValue(l.maxx),f=s.getPixelForValue(l.f(l.minx)),g=s.getPixelForValue(l.f(l.maxx));m||(x=h,c=u);var p=t.controller.chart.chartArea.bottom,v=t.controller.chart.width;if(p<f){var w=f-p,X=f-g;f=p,x+=v*(w/X)}else if(p<g){w=g-p,X=g-f;g=p,c=v-(c-(v-v*(w/X)))}i.lineWidth=n,"dotted"===o&&i.setLineDash([2,3]),i.beginPath(),i.moveTo(x,f),i.lineTo(c,g),i.strokeStyle=r,i.stroke()}function LineFitter(){this.count=0,this.sumX=0,this.sumX2=0,this.sumXY=0,this.sumY=0,this.minx=1e100,this.maxx=-1e100}LineFitter.prototype={add:function(t,i){t=parseFloat(t),i=parseFloat(i),this.count++,this.sumX+=t,this.sumX2+=t*t,this.sumXY+=t*i,this.sumY+=i,t<this.minx&&(this.minx=t),t>this.maxx&&(this.maxx=t)},f:function(t){t=parseFloat(t);var i=this.count*this.sumX2-this.sumX*this.sumX;return(this.sumX2*this.sumY-this.sumX*this.sumXY)/i+t*((this.count*this.sumXY-this.sumX*this.sumY)/i)}},void 0!==typeof window&&window.Chart&&(window.Chart.hasOwnProperty("register")?window.Chart.register(pluginTrendlineLinear):window.Chart.plugins.register(pluginTrendlineLinear));try{module.exports=exports=pluginTrendlineLinear}catch(t){}